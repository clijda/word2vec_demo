<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>The Ghost in the Machine</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
</head>
<body>

<h2>The Ghost in the Machine</h2>
<form name="myForm" id="myForm">

<table>
<tr>
<td>
<input type="text" name="first" id="first" placeholder="Japan">
</td>
<td>
&nbsp;is to&nbsp;
<input type="text" name="isto" id="isto" placeholder="sushi">

</td>
<td>
&nbsp;as&nbsp;
<input type="text" name="second" id="second" placeholder="USA">
is to&nbsp;
</td>
<td>
<b><div class="bg-success" id="result" style="padding:5px;">?</div><b>
</td>
</tr>
</table>
<br>
<input class="btn btn-primary" value="Submit" type="submit"/>

</form>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script type="text/javascript">

    $('#myForm').submit(function () {
        submitform();
        return false;
    });

    function submitform(){
        var formData = JSON.stringify($("#myForm").serializeArray());
        var otherFormData = $("#myForm").serializeArray();
        var negative = [otherFormData[0].value];
        var positive = [otherFormData[1].value, otherFormData[2].value];
        var analogy = {'positive': positive, 'negative': negative, 'topn': 10};
        $.ajax({
            url:'http://localhost:5000/most_similar',
            type:'POST',
            contentType: "application/json",
            dataType:'json',
            data: JSON.stringify(analogy),
            success: function(json){
                //alert(json.result);
                $('#result').html( json.result[0][0]);
            }
        });
    }

    </script>
<h3>Artificial neural network</h3>
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Neural_network.svg/2000px-Neural_network.svg.png" width="60%"/>
</body>
</html>
